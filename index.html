<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spotify Artist Search</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <script src="app.js" defer></script>
</head>
<body>
    <div class="container">
        <div class="auth-container" id="authContainer">
            <h1>Spotify Artist Search</h1>
            <p>Log in with Spotify to search for artists and find their most played songs.</p>
            <button id="loginButton" class="login-button">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12 0C5.4 0 0 5.4 0 12C0 18.6 5.4 24 12 24C18.6 24 24 18.6 24 12C24 5.4 18.6 0 12 0ZM17.4 17.4C17.1 17.7 16.5 17.8 16.2 17.5C13.5 15.3 9.6 14.7 6.3 15.6C5.7 15.8 5.1 15.4 4.9 14.8C4.7 14.2 5.1 13.6 5.7 13.4C9.6 12.3 14.1 13 17.2 15.6C17.5 15.9 17.6 16.5 17.4 17.4ZM19.2 14.4C18.9 14.7 18.3 14.8 18 14.5C14.7 11.7 9.3 11.1 5.4 12.3C4.8 12.5 4.2 12.1 4 11.5C3.8 10.9 4.2 10.3 4.8 10.1C9.3 8.7 15.3 9.3 19.2 12.3C19.5 12.6 19.6 13.2 19.2 14.4ZM19.5 11.1C15.9 8.1 8.1 7.5 4.2 9C3.6 9.2 3 8.8 2.8 8.2C2.6 7.6 3 7 3.6 6.8C8.1 5.1 16.5 5.7 20.7 9.3C21 9.6 21.1 10.2 20.8 10.8C20.5 11.4 19.9 11.5 19.5 11.1Z" fill="currentColor"/>
                </svg>
                Log in with Spotify
            </button>
        </div>

        <div class="app-container" id="appContainer" style="display: none;">
            <div class="header">
                <h1>Spotify Artist Search</h1>
                <div class="user-info">
                    <span id="username" class="username"></span>
                    <button id="logoutButton" class="logout-button">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M17 7L15.59 8.41L18.17 11H8V13H18.17L15.59 15.58L17 17L22 12L17 7ZM4 5H12V3H4C2.9 3 2 3.9 2 5V19C2 20.1 2.9 21 4 21H12V19H4V5Z" fill="currentColor"/>
                        </svg>
                        Logout
                    </button>
                </div>
            </div>
            <div class="search-container">
                <input type="text" id="artistInput" placeholder="Enter artist name...">
                <button id="searchButton">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M15.5 14H14.71L14.43 13.73C15.41 12.59 16 11.11 16 9.5C16 5.91 13.09 3 9.5 3C5.91 3 3 5.91 3 9.5C3 13.09 5.91 16 9.5 16C11.11 16 12.59 15.41 13.73 14.43L14 14.71V15.5L19 20.49L20.49 19L15.5 14ZM9.5 14C7.01 14 5 11.99 5 9.5C5 7.01 7.01 5 9.5 5C11.99 5 14 7.01 14 9.5C14 11.99 11.99 14 9.5 14Z" fill="currentColor"/>
                    </svg>
                    Search
                </button>
            </div>
            <div class="loading" id="loading">
                <div class="loading-spinner"></div>
            </div>
            <div class="result-container" id="resultContainer">
                <div class="song-info">
                    <img id="songCover" class="song-cover" src="" alt="Song cover">
                    <div class="song-details">
                        <div class="song-title" id="songTitle"></div>
                        <div class="artist-name" id="artistName"></div>
                    </div>
                </div>
            </div>
            <div class="error-message" id="errorMessage"></div>
            
            <div class="top-artists-container">
                <h2>Your Top Artists</h2>
                <div class="top-artists-grid" id="topArtists">
                    <!-- Top artists will be populated here -->
                </div>
            </div>
        </div>
    </div>
</body>
</html>
